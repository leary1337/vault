---
создал заметку: 2024-07-24
tags:
  - golang
---
### Описание
Go предоставляет мощные инструменты для работы с сетями через стандартные библиотеки, такие как `net` и `net/http`. Эти пакеты обеспечивают широкие возможности для создания сетевых приложений, включая серверы, клиенты и обработку HTTP-запросов.

### Пакет net

Пакет `net` предоставляет основные интерфейсы и функции для работы с низкоуровневыми сетевыми соединениями, такими как TCP и UDP.

Пример создания TCP-сервера:
```go
import (
    "net"
    "fmt"
)

func main() {
    listener, err := net.Listen("tcp", ":8080")
    if err != nil {
        log.Fatal(err)
    }
    defer listener.Close()
    fmt.Println("Server is listening on port 8080")

    for {
        conn, err := listener.Accept()
        if err != nil {
            log.Fatal(err)
        }
        go handleConnection(conn)
    }
}

func handleConnection(conn net.Conn) {
    defer conn.Close()
    buffer := make([]byte, 1024)
    for {
        n, err := conn.Read(buffer)
        if err != nil {
            if err != io.EOF {
                log.Println(err)
            }
            return
        }
        fmt.Println(string(buffer[:n]))
    }
}
```

### Пакет net/http

Пакет `net/http` предоставляет высокоуровневые функции для работы с HTTP, включая создание веб-серверов и отправку HTTP-запросов.

Пример создания HTTP-сервера:
```go
import (
    "net/http"
    "fmt"
)

func handler(w http.ResponseWriter, r *http.Request) {
    fmt.Fprintf(w, "Hello, %s!", r.URL.Path[1:])
}

func main() {
    http.HandleFunc("/", handler)
    log.Fatal(http.ListenAndServe(":8080", nil))
}
```

Пример отправки HTTP-запроса:
```go
import (
    "net/http"
    "io/ioutil"
    "fmt"
)

func main() {
    resp, err := http.Get("https://api.example.com/data")
    if err != nil {
        log.Fatal(err)
    }
    defer resp.Body.Close()

    body, err := ioutil.ReadAll(resp.Body)
    if err != nil {
        log.Fatal(err)
    }
    fmt.Println(string(body))
}
```

### Работа с URL и запросами

Go также предоставляет удобные инструменты для разбора URL и работы с HTTP-запросами и ответами. Это включает такие функции, как `url.Parse` для разбора URL и `http.NewRequest` для создания HTTP-запросов.

### Краткое содержание

Сетевые возможности в Go обеспечиваются через мощные стандартные библиотеки `net` и `net/http`, которые позволяют создавать как низкоуровневые TCP/UDP-соединения, так и высокоуровневые HTTP-сервисы. Эти инструменты делают разработку сетевых приложений простой и эффективной, предоставляя гибкие средства для работы с сетями и веб-технологиями.
