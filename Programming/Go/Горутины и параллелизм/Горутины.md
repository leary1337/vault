---
создал заметку: 2024-07-24
tags:
  - golang
---
### Описание
**Горутины (goroutines)** — это легковесные потоки в Go, которые позволяют выполнять функции параллельно. Они являются ключевым элементом для написания многопоточных программ в Go.

### Запуск горутин

Горутины запускаются с помощью ключевого слова `go` перед вызовом функции. Пример запуска горутины:
```go
go sayHello()
```
Эта команда запускает функцию `sayHello` в новой горутине. Основной поток программы продолжает выполнение параллельно с горутиной.

### Синхронизация горутин

Так как горутины выполняются параллельно, часто требуется синхронизация для правильной работы с общими ресурсами. Для синхронизации горутин используется пакет `sync`, который предоставляет различные примитивы синхронизации.

Пример использования `WaitGroup` для ожидания завершения всех горутин:
```go
var wg sync.WaitGroup

wg.Add(1)
go func() {
    defer wg.Done()
    // Действие
}()

wg.Wait() // Ожидание завершения всех горутин
```

### Примеры использования

Горутины используются для выполнения задач в фоновом режиме, параллельной обработки данных, сетевого взаимодействия и многих других сценариев. Они позволяют эффективно использовать ресурсы процессора, обеспечивая высокую производительность приложений.

Пример параллельного вычисления:
```go
func compute(value int, wg *sync.WaitGroup) {
    defer wg.Done()
    // Вычисления
}

func main() {
    var wg sync.WaitGroup
    for i := 0; i < 10; i++ {
        wg.Add(1)
        go compute(i, &wg)
    }
    wg.Wait()
}
```

### Краткое содержание

Горутины в Go являются мощным средством для создания параллельных программ. Они позволяют запускать функции в легковесных потоках, обеспечивая эффективное использование процессорных ресурсов. Синхронизация горутин, например, с помощью `sync.WaitGroup`, важна для корректной работы с общими данными и управления завершением задач.